http://guofeng007.com/2018/03/19/jvm/

## JAVA内存模型
![jvm](./assets/41.webp)

1. 类加载器（ClassLoader)  
在JVM启动时或者在类运行时将需要的class加载到JVM中

2. 执行引擎  
负责执行class文件中包含的字节码指令

3. 本地接口  
主要是调用C或C++实现的本地方法

4. 内存区  
内存区主要包含5个部分：
    * 方法区：存储类结构信息的地方，包括常量池、静态变量、构造函数等，注意方法区包含一个运行时常量池。
    * Java堆：存储java实例或者对象的地方，这块是GC的主要区域。
    * Java栈：java栈总是和线程关联在一起，每当创建一个线程时，JVM就会为这个线程创建一个对应的java栈。在这个java栈中又会包含多个`栈帧`，每运行一个方法就创建一个栈帧，用于存储局部变量表、操作栈、方法返回值等。每一个方法从调用直至执行完成的过程，就对应一个栈帧在java栈中入栈到出栈的过程。
    * 本地方法栈：和java栈的作用差不多，只不过是为JVM使用到的native方法服务的
    * 程序计数器：用于保存当前线程执行的内存地址。由于JVM程序是多线程执行的（线程轮流切换），所以为了保证线程切换回来后，还能恢复到原先状态，就需要一个独立的计数器，记录之前中断的地方，程序计数器也是线程私有的。

![jvm](./assets/42.webp)